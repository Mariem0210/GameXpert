<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane prefHeight="720.0" prefWidth="1080.0"
            stylesheets="@style.css"
            styleClass="background"
            xmlns="http://javafx.com/javafx/23.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="tn.esprit.controllers.GestionProduitController">

    <children>
        <!-- Cyberpunk-inspired Background -->
        <ImageView fitHeight="729.0" fitWidth="1345.0"
                   layoutX="-74.0" layoutY="-1.0"
                   opacity="0.3">
            <image>
                <Image url="@game.jpg" />
            </image>
        </ImageView>

        <!-- Product Display Scroll Pane -->
        <ScrollPane layoutX="407.0" layoutY="72.0"
                    prefHeight="481.0" prefWidth="714.0"
                    styleClass="scroll-pane">
            <content>
                <VBox fx:id="productContainer"
                      prefHeight="481.0"
                      prefWidth="714.0"
                      spacing="10"
                      styleClass="product-card">
                    <!-- Dynamic product items will be added here -->
                </VBox>
            </content>
        </ScrollPane>

        <!-- Input Fields with Gaming Styling -->
        <TextField fx:id="tfNom"
                   layoutX="165.0" layoutY="83.0"
                   prefHeight="34.0" prefWidth="160.0"
                   promptText="Product Name"
                   styleClass="text-field"/>

        <TextField fx:id="tfDescription"
                   layoutX="120.0" layoutY="459.0"
                   prefHeight="125.0" prefWidth="250.0"
                   promptText="Description"
                   styleClass="text-field"/>

        <TextField fx:id="tfPrix"
                   layoutX="166.0" layoutY="130.0"
                   prefHeight="50.0" prefWidth="160.0"
                   promptText="Price"
                   styleClass="text-field"/>

        <TextField fx:id="tfStock"
                   layoutX="163.0" layoutY="206.0"
                   prefHeight="50.0" prefWidth="160.0"
                   promptText="Stock"
                   styleClass="text-field"/>

        <TextField fx:id="tfCategorie"
                   layoutX="165.0" layoutY="275.0"
                   prefHeight="38.0" prefWidth="160.0"
                   promptText="Category"
                   styleClass="text-field"/>

        <TextField fx:id="tfImageProduit"
                   layoutX="164.0" layoutY="335.0"
                   prefHeight="39.0" prefWidth="160.0"
                   promptText="Image URL"
                   styleClass="text-field"
                   visible="false"/> <!-- Masquer le champ -->

        <Button fx:id="btnChoisirImage"
                layoutX="164.0" layoutY="385.0"
                onAction="#choisirImage"
                prefHeight="39.0" prefWidth="160.0"
                styleClass="button"
                text="Choisir une image"/>
        <Button layoutX="700" layoutY="633" prefHeight="30" prefWidth="250" text="OFFRES DU JOUR SUR LES JEUX" onAction="#rechercherOffres"/>

        <TextField fx:id="tfRecherche"
                   layoutX="165.0" layoutY="40.0"
                   prefHeight="34.0" prefWidth="200.0"
                   promptText="Search Products..."
                   onKeyReleased="#handleRecherche"
                   styleClass="search-field"/>

        <!-- Buttons with Gaming Aesthetic -->
        <Button fx:id="btnAjouter"
                layoutX="17.0" layoutY="633.0"
                onAction="#ajouterProduit"
                prefHeight="39.0" prefWidth="84.0"
                styleClass="button"
                text="Add"/>
        <Button fx:id="btnAideChoixPC"
                layoutX="900.0" layoutY="72.0"
                prefHeight="39.0" prefWidth="200.0"
                styleClass="button"
                text="Aider moi Ã  choisir mon PC"
                onAction="#ouvrirChatIA" />
        <Button fx:id="btnModifier"
                layoutX="114.0" layoutY="633.0"
                onAction="#modifierProduit"
                prefHeight="39.0" prefWidth="84.0"
                styleClass="button"
                text="Modify"/>

        <Button fx:id="btnSupprimer"
                layoutX="209.0" layoutY="633.0"
                onAction="#supprimerProduit"
                prefHeight="39.0" prefWidth="93.0"
                styleClass="button-primary"
                text="Delete"/>

        <Button fx:id="btnAjouterPanier"
                layoutX="350.0" layoutY="633.0"
                onAction="#ajouterAuPanier"
                prefHeight="39.0" prefWidth="120.0"
                styleClass="button"
                text="Add to Cart"/>

        <Button fx:id="btnPanier"
                layoutX="500.0" layoutY="633.0"
                onAction="#ouvrirPanier"
                prefHeight="39.0" prefWidth="120.0"
                styleClass="button-primary"
                text="View Cart"/>
    </children>
</AnchorPane>