<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane prefHeight="700" prefWidth="1200"
            stylesheets="@style.css"
            styleClass="background"
            xmlns="http://javafx.com/javafx/23.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="tn.esprit.controllers.ClientInterfaceController">

    <!-- Background Image (covering entire window) -->
    <center>
        <AnchorPane>
            <children>
                <!-- Cyberpunk-inspired Background -->
                <ImageView fitHeight="700.0" fitWidth="1200.0"
                           AnchorPane.topAnchor="0.0"
                           AnchorPane.leftAnchor="0.0"
                           AnchorPane.rightAnchor="0.0"
                           AnchorPane.bottomAnchor="0.0"
                           opacity="0.3">
                    <image>
                        <Image url="@game.jpg" />
                    </image>
                </ImageView>

                <!-- Main Content Container -->
                <VBox spacing="20" alignment="TOP_CENTER"
                      AnchorPane.topAnchor="0.0"
                      AnchorPane.leftAnchor="0.0"
                      AnchorPane.rightAnchor="0.0"
                      AnchorPane.bottomAnchor="0.0">

                    <!-- Header Section -->
                    <HBox alignment="CENTER" spacing="20">
                        <padding>
                            <Insets top="30" bottom="20" />
                        </padding>
                        <Label styleClass="title" text="GameXpert Store">
                            <font>
                                <Font name="System Bold" size="36.0" />
                            </font>
                        </Label>
                    </HBox>

                    <!-- Search and Actions Section -->
                    <HBox alignment="CENTER" spacing="20">
                        <padding>
                            <Insets left="40" right="40" />
                        </padding>

                        <TextField fx:id="tfRecherche"
                                   prefHeight="40.0" prefWidth="300.0"
                                   promptText="Search Products..."
                                   onKeyReleased="#handleRecherche"
                                   styleClass="search-field"/>

                        <Button fx:id="btnOffresDuJour"
                                prefHeight="40.0" prefWidth="200.0"
                                styleClass="button-secondary"
                                text="Offres du Jour"
                                onAction="#rechercherOffres" />

                        <Button fx:id="btnAideChoixPC"
                                prefHeight="40.0" prefWidth="220.0"
                                styleClass="button-accent"
                                text="Aider moi Ã  choisir mon PC"
                                onAction="#ouvrirChatIA" />
                    </HBox>

                    <!-- Product Display Area -->
                    <ScrollPane fitToWidth="true" fitToHeight="true"
                                VBox.vgrow="ALWAYS"
                                styleClass="scroll-pane-modern">
                        <padding>
                            <Insets top="10" bottom="10" left="10" right="10" />
                        </padding>
                        <VBox fx:id="productContainer"
                              spacing="15"
                              styleClass="product-container">
                            <!-- Dynamic product items will be added here -->
                        </VBox>
                    </ScrollPane>

                    <!-- Footer with Cart Button -->
                    <HBox alignment="CENTER_RIGHT" spacing="20">
                        <padding>
                            <Insets bottom="20" right="40" />
                        </padding>
                        <Button fx:id="btnPanier"
                                onAction="#ouvrirPanier"
                                prefHeight="50.0" prefWidth="160.0"
                                styleClass="button-primary"
                                text="View Cart"/>
                    </HBox>
                </VBox>
            </children>
        </AnchorPane>
    </center>
</BorderPane>